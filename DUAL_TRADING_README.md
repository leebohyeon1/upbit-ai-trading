# 비트코인 자동매매 이중 간격 모드 사용 설명서

이 모드는 일반 분석과 AI 분석을 다른 간격으로 실행하여 더 효율적인 자동매매를 가능하게 합니다.

## 주요 기능

- **일반 분석 (1분 간격)**: 기술적 지표와 시장 데이터만을 사용하여 빠른 간격으로 시장 상황을 분석합니다.
- **AI 분석 (30분 간격)**: Claude AI를 이용하여 더 깊이 있는 분석을 주기적으로 수행합니다.
- **통합 판단**: 두 가지 분석 방법의 결과를 모두 로그에 기록하여 비교 가능합니다.

## 설치 및 설정

1. `.env` 파일에 필요한 API 키를 설정합니다:
   - `UPBIT_ACCESS_KEY`: 업비트 API 액세스 키
   - `UPBIT_SECRET_KEY`: 업비트 API 시크릿 키
   - `CLAUDE_API_KEY`: Claude API 키
   - `ENABLE_TRADE`: 실제 거래 활성화 여부 (true/false)

2. 필요한 패키지 설치:
   ```
   pip install -r requirements.txt
   ```

## 실행 방법

### 간편 실행

제공된 배치 파일을 더블 클릭하여 실행합니다:
```
run_dual_trading.bat
```

배치 파일 실행 시 다음 단계를 진행합니다:
1. `.env` 파일이 없는 경우 필요한 API 키를 입력 받습니다
2. 필요한 패키지를 설치합니다
3. 실제 트레이딩 활성화 여부를 선택합니다
4. 자동매매 프로그램을 시작합니다

### 수동 실행

다음 명령으로 직접 실행할 수도 있습니다:
```
python src/main_dual.py
```

## 로그 및 모니터링

모든 분석 결과와 거래 내역은 `logs` 디렉토리에 기록됩니다:
- `app.log`: 애플리케이션 로그
- `trade.log`: 거래 로그
- `error.log`: 오류 로그
- `trading_log_YYYYMMDD.json`: 일별 분석 결과
- `trade_history_YYYYMMDD.json`: 일별 거래 기록

로그에는 일반 분석 결과와 AI 분석 결과가 모두 포함되며, 어떤 분석 방법이 사용되었는지 확인할 수 있습니다.

## 대시보드 사용

분석 결과 및 거래 내역을 시각적으로 확인하려면 대시보드를 사용할 수 있습니다:

```
cd dashboard
run_dashboard.bat
```

## 커스터마이징

### 간격 변경

`src/main_dual.py` 파일에서 다음 변수를 수정하여 분석 간격을 변경할 수 있습니다:
```python
normal_interval_minutes = 1  # 일반 분석 간격 (분)
ai_interval_minutes = 30     # AI 분석 간격 (분)
```

### 트레이딩 전략 변경

`config/trading_config.py` 파일에서 다양한 설정을 변경하여 트레이딩 전략을 커스터마이징할 수 있습니다:
- 매매 결정 임계값
- 지표 가중치 및 사용 여부
- 투자 비율 등

## 주의사항

- 실제 거래를 활성화하기 전에 충분한 테스트를 진행하세요.
- 거래 결과는 API 키에 설정된 계정에 영향을 미칩니다.
- Claude API 요청은 API 사용량에 따라 비용이 발생할 수 있습니다.
- 이 프로그램은 투자 조언을 제공하지 않으며, 사용에 따른 손실은 사용자의 책임입니다.
