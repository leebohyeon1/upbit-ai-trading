import { DocContent } from './docContents_refactored';

// 사용자 매뉴얼 문서 컨텐츠
export const userManualContents: Record<string, DocContent> = {
  'user-manual.introduction': {
    title: '소개',
    content: `## Upbit AI Trading Desktop Application

암호화폐 자동매매를 위한 종합적인 데스크탑 솔루션입니다.

### 주요 특징

#### 기술적 분석
- **20+ 기술적 지표**: RSI, MACD, 볼린저밴드, 이동평균선 등
- **실시간 분석**: 1분 간격으로 시장 데이터 분석
- **멀티 타임프레임**: 1분봉부터 월봉까지 다양한 시간대 분석

#### AI 기반 분석
- **Claude API 연동**: 시장 분석 및 예측
- **뉴스 감성 분석**: 실시간 뉴스 수집 및 분석
- **머신러닝**: 거래 결과 기반 자동 학습

#### 패턴 인식
- **캔들 패턴**: 15종 (Doji, Hammer, Shooting Star 등)
- **차트 패턴**: 15종 (Head & Shoulders, Triangle 등)
- **자동 감지**: 실시간 패턴 인식 및 알림

#### 리스크 관리
- **VaR/CVaR**: Value at Risk 계산
- **Kelly Criterion**: 최적 포지션 사이징
- **Kill Switch**: 긴급 정지 및 손실 제한

#### 자동 매매 전략
- **DCA**: Dollar Cost Averaging
- **Grid Trading**: 범위 장세 전략
- **Mean Reversion**: 평균 회귀 전략
- **Momentum**: 추세 추종 전략`,
    category: 'overview'
  },

  'user-manual.technical-indicators': {
    title: '기술적 분석 지표',
    content: `## 기술적 분석 지표 상세 설명

프로그램에서 사용하는 모든 기술적 지표의 계산 방법과 활용법을 설명합니다.

### 기본 지표 (간소화 모드 6개 핵심 지표)

#### 1. RSI (Relative Strength Index)
상대강도지수로 과매수/과매도 상태를 판단합니다.

**계산 공식**:
\`\`\`
RS = 평균 상승폭 / 평균 하락폭
RSI = 100 - (100 / (1 + RS))
\`\`\`

**매매 신호**:
- RSI > 70: 과매수 상태 → 매도 고려
- RSI < 30: 과매도 상태 → 매수 고려
- 다이버전스: 가격과 RSI의 반대 움직임

**설정 가능 파라미터**:
- 기간: 기본 14일 (조정 가능: 5-30일)
- 과매수 기준: 기본 70 (조정 가능: 65-80)
- 과매도 기준: 기본 30 (조정 가능: 20-35)

#### 2. MACD (Moving Average Convergence Divergence)
두 이동평균선의 차이를 이용한 추세 지표입니다.

**계산 공식**:
\`\`\`
MACD = 12일 EMA - 26일 EMA
Signal = MACD의 9일 EMA
Histogram = MACD - Signal
\`\`\`

**매매 신호**:
- MACD가 시그널선 상향 돌파: 매수 신호
- MACD가 시그널선 하향 돌파: 매도 신호
- 히스토그램 증가: 상승 모멘텀
- 히스토그램 감소: 하락 모멘텀

**설정 가능 파라미터**:
- 단기 EMA: 기본 12일
- 장기 EMA: 기본 26일
- 시그널 EMA: 기본 9일

#### 3. 볼린저 밴드 (Bollinger Bands)
가격의 변동성을 측정하는 지표입니다.

**계산 공식**:
\`\`\`
중심선 = 20일 단순이동평균
상한선 = 중심선 + (2 × 표준편차)
하한선 = 중심선 - (2 × 표준편차)
\`\`\`

**매매 신호**:
- 하단 밴드 터치 후 반등: 매수 신호
- 상단 밴드 터치 후 하락: 매도 신호
- 밴드 폭 축소 (Squeeze): 변동성 증가 예상
- 밴드 폭 확대: 추세 지속 가능성

**설정 가능 파라미터**:
- 이동평균 기간: 기본 20일
- 표준편차 배수: 기본 2배

#### 4. 이동평균선 (Moving Average)
가격의 평균적인 흐름을 나타냅니다.

**종류**:
- SMA (단순이동평균): 일정 기간 평균
- EMA (지수이동평균): 최근 가격에 가중치
- WMA (가중이동평균): 선형 가중치 적용

**매매 신호**:
- 골든크로스: 단기 MA > 장기 MA 상향 돌파
- 데드크로스: 단기 MA < 장기 MA 하향 돌파
- 지지/저항선 역할
- 추세 방향 확인

#### 5. 스토캐스틱 (Stochastic)
현재 가격의 상대적 위치를 측정합니다.

**계산 공식**:
\`\`\`
%K = (현재가 - N일 최저가) / (N일 최고가 - N일 최저가) × 100
%D = %K의 3일 이동평균
\`\`\`

**매매 신호**:
- %K < 20: 과매도 → 매수 고려
- %K > 80: 과매수 → 매도 고려
- %K와 %D 교차: 매매 타이밍

#### 6. 거래량 (Volume)
시장 참여도를 나타내는 지표입니다.

**분석 방법**:
- 평균 거래량 대비 비율
- 가격 상승 + 거래량 증가: 상승 추세 강화
- 가격 하락 + 거래량 증가: 하락 추세 강화
- 거래량 급증: 추세 전환 가능성

### 고급 지표 (일반 모드)

#### ADX (Average Directional Index)
추세의 강도를 측정합니다.

**계산 요소**:
- +DI: 상승 추세의 강도
- -DI: 하락 추세의 강도
- ADX: 추세 강도 (방향 무관)

**해석**:
- ADX < 20: 추세 없음
- ADX 20-40: 추세 형성
- ADX > 40: 강한 추세

#### ATR (Average True Range)
변동성을 측정하는 지표입니다.

**활용**:
- 손절선 설정: 진입가 ± (2 × ATR)
- 포지션 크기 조정: 높은 ATR = 작은 포지션
- 변동성 필터: ATR 급증 시 거래 회피

#### OBV (On Balance Volume)
거래량과 가격의 관계를 분석합니다.

**계산**:
- 가격 상승일: OBV = 이전 OBV + 당일 거래량
- 가격 하락일: OBV = 이전 OBV - 당일 거래량

**활용**:
- OBV 상승 + 가격 횡보: 매집 진행
- OBV 하락 + 가격 횡보: 분산 진행

#### 이치모쿠 클라우드 (Ichimoku Cloud)
종합적인 추세 지표입니다.

**구성 요소**:
1. 전환선 (Tenkan-sen): (9일 최고가 + 9일 최저가) / 2
2. 기준선 (Kijun-sen): (26일 최고가 + 26일 최저가) / 2
3. 선행스팬A: (전환선 + 기준선) / 2 → 26일 앞
4. 선행스팬B: (52일 최고가 + 52일 최저가) / 2 → 26일 앞
5. 후행스팬: 현재 종가 → 26일 뒤

**신호 해석**:
- 가격이 구름 위: 상승 추세
- 가격이 구름 아래: 하락 추세
- 구름 두께: 변동성 지표

#### 피보나치 되돌림 (Fibonacci Retracement)
자연스러운 지지/저항 레벨을 찾습니다.

**주요 레벨**:
- 23.6%: 약한 되돌림
- 38.2%: 일반적 되돌림
- 50%: 심리적 중요 레벨
- 61.8%: 황금 비율
- 78.6%: 깊은 되돌림

**활용**:
- 상승 추세: 되돌림 레벨에서 매수
- 하락 추세: 되돌림 레벨에서 매도`,
    category: 'features'
  },

  'user-manual.simplified-mode': {
    title: '간소화 거래 모드',
    content: `## 간소화 거래 모드

이전 프로젝트의 성공적인 방식을 계승한 단순화된 거래 전략입니다.

### 핵심 원칙
- 복잡한 분석보다 검증된 몇 가지 지표에 집중
- 신뢰도와 거래량 제한 제거로 더 많은 거래 기회
- 명확한 매수/매도 신호에 즉시 반응

### 6개 핵심 지표

#### 1. 이동평균선 (MA)
- **골든크로스**: 단기 MA가 장기 MA 상향 돌파 → 매수
- **데드크로스**: 단기 MA가 장기 MA 하향 돌파 → 매도
- **신호 강도**: 0.7

#### 2. RSI
- **과매도 (RSI < 30)**: 매수 신호
- **과매수 (RSI > 70)**: 매도 신호
- **신호 강도**: 0.95 (가장 신뢰도 높음)

#### 3. MACD
- **MACD 상향 크로스**: 매수 신호
- **MACD 하향 크로스**: 매도 신호
- **신호 강도**: 0.9

#### 4. 볼린저 밴드
- **하단 밴드 터치**: 매수 고려
- **상단 밴드 터치**: 매도 고려
- **신호 강도**: 0.8

#### 5. 스토캐스틱
- **20 이하**: 과매도 → 매수
- **80 이상**: 과매수 → 매도
- **신호 강도**: 0.7

#### 6. 거래량
- **평균 대비 150% 이상**: 신호 강화
- **거래량 급증 시 다른 신호와 결합하여 판단**

### 거래 실행 조건
\`\`\`
매수 조건: 가중 평균 신호 > 0.15
매도 조건: 가중 평균 신호 < -0.2
\`\`\`

### 권장 설정
- **타임프레임**: 60분봉 (안정적인 신호)
- **분석 주기**: 60분마다
- **투자 비율**: 20-30% (초보자)
- **쿨다운**: 자동 설정됨`,
    category: 'features'
  },

  'user-manual.kelly-criterion': {
    title: 'Kelly Criterion',
    content: `## Kelly Criterion (켈리 기준)

수학적으로 최적의 베팅 크기를 계산하는 자금 관리 전략입니다.

### 기본 공식
\`\`\`
f* = (p × b - q) / b

여기서:
- f* = 최적 베팅 비율
- p = 승률 (과거 수익 거래 비율)
- q = 패배율 (1 - p)
- b = 승리 시 평균 수익률
\`\`\`

### 적용 예시
- 승률 60% (p = 0.6, q = 0.4)
- 평균 수익률 2배 (b = 2)
- 계산: f* = (0.6 × 2 - 0.4) / 2 = 0.4 (40%)

### Kelly Fraction 설정
실제 거래에서는 Full Kelly를 사용하면 위험합니다.

#### 1. Full Kelly (100%)
- 계산된 값 그대로 사용
- 매우 공격적, 높은 위험
- 권장하지 않음

#### 2. Half Kelly (50%)
- 계산값의 50%만 사용
- 균형잡힌 접근
- **권장 설정**

#### 3. Quarter Kelly (25%)
- 계산값의 25%만 사용
- 보수적 접근
- 초보자 권장

### 동적 조정
시장 상황에 따라 Kelly 비율을 자동 조정합니다.

#### 변동성 조정
\`\`\`typescript
if (변동성 > 2%) {
  kellyRatio *= 0.5; // 50% 감소
}
\`\`\`

#### 시장 추세 조정
\`\`\`typescript
if (하락장) {
  kellyRatio *= 0.6; // 40% 감소
}
\`\`\`

#### 최근 성과 조정
\`\`\`typescript
if (최근 손실 > 15%) {
  kellyRatio *= 0.5; // 50% 감소
}
\`\`\`

### 실제 적용
1. **최소 거래 횟수**: 20회 이상 데이터 필요
2. **최대 베팅 한도**: maxKellyFraction 설정 (기본 25%)
3. **코인별 개별 계산**: 각 코인의 과거 성과 기반
4. **주기적 재계산**: 10거래마다 업데이트

### 주의사항
- 과거 성과가 미래를 보장하지 않음
- 극단적인 값은 제한됨 (최소 1%, 최대 설정값)
- 시뮬레이션 모드에서 충분히 테스트 후 사용`,
    category: 'strategies'
  },

  'user-manual.dca-strategy': {
    title: 'DCA 전략',
    content: `## DCA (Dollar Cost Averaging) 전략

정기적으로 일정 금액을 투자하여 평균 매수가를 낮추는 전략입니다.

### 기본 원리
- 가격과 무관하게 정기적 매수
- 하락장에서 평균 단가 하락
- 장기 투자에 적합

### 설정 항목

#### 1. 정기 투자 금액
- 매번 투자할 고정 금액
- 최소: 5,000원
- 권장: 총 자산의 5-10%

#### 2. 투자 간격
- 투자 주기 설정
- 단위: 분
- 권장: 60분 이상

#### 3. 최대 총 투자액
- 전체 투자 한도
- DCA 중단 기준
- 리스크 관리 목적

### Smart DCA
변동성에 따라 투자 금액을 자동 조절합니다.

#### 변동성 계산
\`\`\`typescript
변동성 = 최근 24시간 고가/저가 비율 - 1
\`\`\`

#### 투자 금액 조정
\`\`\`typescript
if (변동성 > 5%) {
  투자금액 = 기본금액 × 1.5; // 고변동성시 50% 증액
} else if (변동성 < 2%) {
  투자금액 = 기본금액 × 0.8; // 저변동성시 20% 감액
}
\`\`\`

### 실행 조건
1. **가격 무관**: 현재가와 관계없이 실행
2. **시간 기준**: 설정된 간격마다 자동 실행
3. **잔액 확인**: 투자 금액만큼 KRW 잔액 필요
4. **한도 체크**: 최대 투자액 도달 시 중단

### 중단 조건
- 최대 투자액 도달
- 수동 중단
- Kill Switch 활성화
- 계좌 잔액 부족

### 장단점

#### 장점
- 타이밍 리스크 제거
- 심리적 부담 감소
- 하락장에서 유리
- 자동화 가능

#### 단점
- 상승장에서 수익률 제한
- 즉각적인 수익 어려움
- 자금 회전율 낮음

### 권장 사용 시나리오
1. **장기 투자자**: 3개월 이상 투자 계획
2. **초보자**: 시장 타이밍 판단 어려운 경우
3. **하락장**: 바닥을 예측하기 어려운 상황
4. **분산 투자**: 여러 코인에 동시 적용`,
    category: 'strategies'
  },

  'user-manual.grid-trading': {
    title: 'Grid Trading',
    content: `## Grid Trading (그리드 트레이딩)

설정된 가격 구간에서 자동으로 매수/매도를 반복하는 전략입니다.

### 작동 원리
1. 중심 가격 기준으로 위아래 그리드 생성
2. 각 그리드 레벨에 매수/매도 주문 배치
3. 가격 하락 → 매수, 가격 상승 → 매도
4. 횡보장에서 수익 극대화

### 그리드 설정

#### 1. 중심 가격
- 현재가 또는 지정 가격
- 그리드의 기준점
- 시장 상황에 맞게 조정

#### 2. 그리드 간격 (%)
- 각 그리드 간 가격 차이
- 권장: 1-3%
- 변동성 높으면 간격 확대

#### 3. 그리드 레벨
- 위아래 그리드 개수
- 권장: 5-10개
- 많을수록 세밀한 거래

#### 4. 주문 금액
- 각 그리드당 투자 금액
- 균등 분배 권장
- 최소: 5,000원

### 계산 예시
\`\`\`
중심 가격: 100,000원
그리드 간격: 2%
그리드 레벨: 5개

상단 그리드:
- Level +5: 110,000원 (매도)
- Level +4: 108,000원 (매도)
- Level +3: 106,000원 (매도)
- Level +2: 104,000원 (매도)
- Level +1: 102,000원 (매도)

하단 그리드:
- Level -1: 98,000원 (매수)
- Level -2: 96,000원 (매수)
- Level -3: 94,000원 (매수)
- Level -4: 92,000원 (매수)
- Level -5: 90,000원 (매수)
\`\`\`

### 리밸런싱
주기적으로 그리드를 재조정합니다.

#### 리밸런싱 조건
- 설정 주기 도달 (기본 4시간)
- 가격이 그리드 범위 이탈
- 수동 리밸런싱 요청

#### 리밸런싱 과정
1. 기존 미체결 주문 취소
2. 현재가 기준 새 그리드 생성
3. 새로운 주문 배치

### 리스크 관리

#### 최대 투자 한도
- 그리드 전체 투자액 제한
- 권장: 총 자산의 30-50%

#### 손절/익절 설정
- 전체 포지션 기준
- 손절: -10%
- 익절: +20%

### 장단점

#### 장점
- 횡보장에서 수익 창출
- 감정 배제된 자동 거래
- 평균 단가 개선
- 24시간 자동 운영

#### 단점
- 강한 추세장에서 불리
- 초기 자금 많이 필요
- 수수료 비용 증가
- 설정 복잡도 높음

### 최적 사용 시나리오
1. **횡보장**: 일정 범위 내 등락
2. **변동성 시장**: 큰 가격 변동
3. **장기 운영**: 꾸준한 수익 목표
4. **자동화 선호**: 수동 거래 최소화`,
    category: 'strategies'
  },

  'user-manual.pattern-recognition': {
    title: '패턴 인식',
    content: `## 패턴 인식 시스템

30가지 이상의 캔들 패턴과 차트 패턴을 자동으로 인식합니다.

### 캔들 패턴 (15종)

#### 1. Doji (십자선)
- **모양**: 시가 ≈ 종가
- **의미**: 우유부단, 추세 전환 가능
- **신호 강도**: 위치에 따라 다름
- **확인 필요**: 다음 캔들 방향

#### 2. Hammer (망치형)
- **모양**: 긴 아래꼬리, 짧은 몸통
- **위치**: 하락 추세 끝
- **의미**: 반전 가능성
- **신호 강도**: 강함

#### 3. Shooting Star (유성형)
- **모양**: 긴 위꼬리, 짧은 몸통
- **위치**: 상승 추세 끝
- **의미**: 하락 전환
- **신호 강도**: 강함

#### 4. Engulfing (장악형)
- **Bullish Engulfing**: 양봉이 이전 음봉 완전 감싸기
- **Bearish Engulfing**: 음봉이 이전 양봉 완전 감싸기
- **의미**: 강한 반전 신호
- **신호 강도**: 매우 강함

#### 5. Morning/Evening Star
- **구성**: 3개 캔들 패턴
- **Morning Star**: 하락 → 십자선 → 상승
- **Evening Star**: 상승 → 십자선 → 하락
- **신호 강도**: 매우 강함

### 차트 패턴 (15종)

#### 1. Head & Shoulders (헤드앤숄더)
- **구성**: 좌측 어깨 - 머리 - 우측 어깨
- **넥라인**: 지지선 역할
- **의미**: 상승 추세 반전
- **목표가**: 머리에서 넥라인까지 거리

#### 2. Double Top/Bottom
- **Double Top**: M자 형태, 저항선 테스트
- **Double Bottom**: W자 형태, 지지선 테스트
- **의미**: 추세 반전
- **확인**: 넥라인 돌파

#### 3. Triangle (삼각형)
- **상승 삼각형**: 평평한 상단, 상승하는 하단
- **하락 삼각형**: 하락하는 상단, 평평한 하단
- **대칭 삼각형**: 수렴하는 상하단
- **의미**: 돌파 방향 주목

#### 4. Flag/Pennant
- **Flag**: 평행한 추세선
- **Pennant**: 수렴하는 추세선
- **의미**: 추세 지속 패턴
- **목표가**: 깃대 길이만큼

### 패턴 인식 알고리즘

#### 실시간 스캔
\`\`\`typescript
// 매 틱마다 패턴 검사
for (const pattern of patterns) {
  if (pattern.check(candles)) {
    emitSignal(pattern);
  }
}
\`\`\`

#### 신뢰도 계산
- **패턴 완성도**: 이상적 형태와 유사도
- **거래량 확인**: 패턴 형성 시 거래량
- **시장 상황**: 전체 추세와 일치 여부
- **복수 확인**: 여러 시간대 확인

### 패턴별 가중치
\`\`\`
강한 반전 패턴: 0.9
일반 반전 패턴: 0.7
지속 패턴: 0.6
약한 신호: 0.4
\`\`\`

### 활용 방법
1. **단독 사용 금지**: 다른 지표와 함께 사용
2. **거래량 확인**: 패턴 신뢰도 검증
3. **손절 설정**: 패턴 무효화 지점
4. **복수 시간대**: 상위 차트 확인`,
    category: 'features'
  },

  'user-manual.risk-management': {
    title: '리스크 관리',
    content: `## 리스크 관리 시스템

체계적인 위험 관리로 자본을 보호합니다.

### VaR (Value at Risk)
특정 신뢰수준에서 예상되는 최대 손실액입니다.

#### 계산 방법
\`\`\`
VaR = 포트폴리오 가치 × (평균 수익률 - Z-score × 표준편차)

Z-score:
- 95% 신뢰수준: 1.645
- 99% 신뢰수준: 2.326
\`\`\`

#### 해석 예시
- 95% VaR = 100만원
- "95% 확률로 하루 최대 손실이 100만원을 넘지 않음"

#### 시간 스케일링
\`\`\`
주간 VaR = 일일 VaR × √7
월간 VaR = 일일 VaR × √30
\`\`\`

### CVaR (Conditional VaR)
VaR를 초과하는 손실의 평균값입니다.

#### 계산
\`\`\`
CVaR = VaR 초과 손실들의 평균
\`\`\`

#### 활용
- 극단적 손실 위험 평가
- 꼬리 위험(Tail Risk) 관리
- 보수적 리스크 관리

### Kill Switch (긴급 정지)

#### 활성화 조건
1. **일일 손실 한도**
   - 설정: 총 자산의 %
   - 기본값: 10%
   - 도달 시 모든 거래 중단

2. **연속 손실**
   - 설정: N회 연속 손실
   - 기본값: 5회
   - 심리적 안정 필요

3. **수동 활성화**
   - 긴급 상황 시 즉시 중단
   - 모든 미체결 주문 취소
   - 신규 거래 차단

#### Kill Switch 해제
- 수동 해제만 가능
- 쿨다운 기간 경과 필요
- 원인 분석 후 재개 권장

### 포지션 사이징

#### 고정 비율
\`\`\`
포지션 크기 = 총 자산 × 설정 비율
\`\`\`

#### Kelly Criterion
\`\`\`
포지션 크기 = 총 자산 × Kelly 비율
\`\`\`

#### 리스크 기반
\`\`\`
포지션 크기 = (총 자산 × 리스크 허용치) / 예상 손실
\`\`\`

### 쿨다운 시스템

#### 기본 쿨다운
- 매수 후: 30분
- 매도 후: 20분
- 중복 거래 방지

#### 동적 쿨다운
\`\`\`typescript
if (최근 손실) {
  쿨다운 = 기본값 × 2;
} else if (연속 수익) {
  쿨다운 = 기본값 × 0.8;
}
\`\`\`

#### 학습 기반 조정
- AI가 최적 쿨다운 계산
- 코인별 특성 반영
- 시장 상황 고려

### 손절/익절 설정

#### 고정 비율
- 손절: -5%
- 익절: +10%
- 단순하고 명확

#### ATR 기반
\`\`\`
손절 = 진입가 - (2 × ATR)
익절 = 진입가 + (3 × ATR)
\`\`\`

#### 트레일링 스톱
- 수익 발생 시 손절선 상향
- 최고가 대비 % 하락 시 매도
- 수익 보호 효과적

### 상관관계 분석
포트폴리오 내 코인들의 상관관계를 분석합니다.

#### 상관계수 해석
- 1.0: 완전 동일 움직임
- 0.0: 무관계
- -1.0: 완전 반대 움직임

#### 분산 투자
- 낮은 상관관계 코인 선택
- 포트폴리오 리스크 감소
- 안정적 수익 추구`,
    category: 'features'
  },

  'user-manual.ai-analysis': {
    title: 'AI 분석',
    content: `## AI 기반 분석 시스템

Claude API를 활용한 고급 시장 분석 기능입니다.

### Claude API 연동

#### API 키 설정
1. [Anthropic Console](https://console.anthropic.com/) 접속
2. API 키 생성
3. 설정 > API 키에서 입력

#### 분석 내용
- 기술적 지표 종합 해석
- 시장 심리 분석
- 뉴스 영향 평가
- 거시경제 요인 고려

### AI 분석 프로세스

#### 1. 데이터 수집
\`\`\`typescript
const data = {
  technicalIndicators: {...},
  marketSentiment: {...},
  newsData: [...],
  priceHistory: [...]
};
\`\`\`

#### 2. 프롬프트 생성
- 구조화된 데이터 전달
- 명확한 질문 제시
- 컨텍스트 정보 포함

#### 3. AI 응답 처리
- JSON 형식 파싱
- 신뢰도 점수 추출
- 매매 권고사항 해석

### 뉴스 감성 분석

#### 뉴스 수집원
- RSS 피드
- 주요 암호화폐 뉴스 사이트
- 소셜 미디어 트렌드

#### 감성 점수 계산
\`\`\`
-1.0 (매우 부정적) ~ +1.0 (매우 긍정적)
\`\`\`

#### 다국어 지원
- 한국어 뉴스
- 영어 뉴스
- 자동 번역 및 분석

### AI 신호 가중치

#### 높은 신뢰도 (80% 이상)
- 가중치: 1.5배
- 강한 매매 신호
- 즉시 실행 고려

#### 중간 신뢰도 (60-80%)
- 가중치: 1.0배
- 다른 지표와 병행
- 추가 확인 필요

#### 낮은 신뢰도 (60% 미만)
- 가중치: 0.5배
- 참고용으로만 사용
- 단독 신호로 부적합

### AI 분석 주기
- 기본: 4시간마다
- 중요 이벤트 시: 즉시
- 사용자 요청: 수동 실행

### 비용 관리
- 월별 API 사용량 모니터링
- 효율적인 프롬프트 설계
- 캐싱으로 중복 요청 방지

### 장단점

#### 장점
- 종합적 시장 분석
- 감정 배제된 판단
- 24시간 모니터링
- 복잡한 패턴 인식

#### 단점
- API 비용 발생
- 네트워크 의존성
- 응답 지연 가능성
- 과도한 의존 위험`,
    category: 'features'
  },

  'user-manual.learning-system': {
    title: '학습 시스템',
    content: `## 머신러닝 기반 학습 시스템

거래 결과를 분석하여 자동으로 전략을 개선합니다.

### 학습 원리

#### 데이터 수집
\`\`\`typescript
interface TradeResult {
  signal: string;        // 사용된 신호
  indicators: {...},     // 지표 값들
  profit: number;        // 수익률
  duration: number;      // 보유 시간
  marketCondition: {...} // 시장 상황
}
\`\`\`

#### 성과 분석
- 지표별 수익 기여도
- 시장 상황별 성과
- 최적 진입/청산 타이밍

### 가중치 자동 조정

#### 조정 알고리즘
\`\`\`typescript
// 수익 거래의 가중치 증가
if (profit > 0) {
  weight *= 1.1; // 10% 증가
} else {
  weight *= 0.9; // 10% 감소
}

// 범위 제한
weight = Math.max(0.1, Math.min(2.0, weight));
\`\`\`

#### 조정 주기
- 기본: 10거래마다
- 최소 데이터: 20거래
- 최대 조정폭: ±50%

### 카테고리별 학습

#### 변동성 그룹
- 고변동성 코인 (일일 10% 이상)
- 중변동성 코인 (일일 5-10%)
- 저변동성 코인 (일일 5% 미만)

#### 시가총액 그룹
- 대형 코인 (상위 10)
- 중형 코인 (11-50위)
- 소형 코인 (51위 이하)

### 쿨다운 학습

#### 최적 쿨다운 계산
\`\`\`typescript
// 최근 거래 간격 분석
const intervals = getRecentTradeIntervals();
const optimalCooldown = calculateOptimal(intervals);

// 수익률 기반 조정
if (recentProfitRate > 0) {
  cooldown = optimalCooldown * 0.8;
} else {
  cooldown = optimalCooldown * 1.2;
}
\`\`\`

### 학습 데이터 관리

#### 저장 위치
\`\`\`
userData/data/learning/
├── weights.json       // 가중치
├── performance.json   // 성과 기록
└── patterns.json      // 패턴 데이터
\`\`\`

#### 데이터 보존
- 최대 1000개 거래 기록
- 3개월 이상 데이터 압축
- 정기적 백업 권장

### 학습 모드 설정

#### 공격적 학습
- 빠른 조정 (5거래마다)
- 큰 조정폭 (±20%)
- 신규 전략 테스트용

#### 보수적 학습
- 느린 조정 (20거래마다)
- 작은 조정폭 (±5%)
- 안정적 운영용

#### 학습 비활성화
- 수동 가중치 고정
- 검증된 설정 유지
- 특정 시장 상황용

### 성과 모니터링

#### 대시보드 표시
- 학습 진행률
- 가중치 변화 추이
- 개선된 수익률

#### 학습 리포트
- 주간/월간 요약
- 최적 설정 제안
- 개선 가능 영역`,
    category: 'features'
  },

  'user-manual.ui-guide': {
    title: 'UI 사용 가이드',
    content: `## UI 구성 요소 가이드

### 대시보드

#### 포트폴리오 현황
- **총 평가액**: 보유 자산의 현재 가치
- **일일 손익**: 24시간 수익률
- **보유 코인**: 실시간 가격 업데이트
- **수익률 차트**: 시간별 수익 추이

#### 거래 통계
- **총 거래 횟수**: 전체 거래 기록
- **승률**: 수익 거래 비율
- **평균 수익률**: 거래당 평균 수익
- **최대 낙폭**: 최고점 대비 최대 손실

#### 실시간 분석
- **활성 코인**: 현재 모니터링 중인 코인
- **신호 강도**: 매수/매도 신호 세기
- **기술적 지표**: RSI, MACD 등 실시간 값
- **AI 분석**: Claude 분석 결과 (사용 시)

#### 쿨다운 상태
- **코인별 쿨다운**: 남은 대기 시간
- **진행률 표시**: 시각적 프로그레스 바
- **다음 거래 가능 시간**: 카운트다운

### 포트폴리오 관리

#### 코인 추가/제거
1. '+' 버튼 클릭
2. 코인 검색 또는 선택
3. 최대 투자 금액 설정
4. 활성화 토글

#### 포트폴리오 설정
- **최대 투자 금액**: 코인별 한도
- **손절/익절 비율**: 자동 청산 기준
- **활성화 상태**: 거래 on/off
- **삭제**: 포트폴리오에서 제거

### 분석 설정

#### 가중치 설정
각 지표의 중요도를 0-100으로 조정
- RSI: 과매수/과매도 중요도
- MACD: 추세 전환 중요도
- 볼린저 밴드: 변동성 중요도
- 이동평균선: 추세 중요도

#### 임계값 설정
매매 신호 발생 기준점
- 매수 임계값: 양수 (기본 0.15)
- 매도 임계값: 음수 (기본 -0.2)

#### 학습 모드
- **활성화**: AI 자동 최적화
- **학습률**: 조정 속도
- **리셋**: 초기값으로 복원

### 거래 설정

#### 간소화 모드
- 토글 스위치로 on/off
- 6개 핵심 지표만 사용
- 초보자 권장 설정

#### 기본 거래 설정
- **실거래/시뮬레이션**: 모드 선택
- **투자 비율**: 신호당 투자 비중
- **최대 투자액**: 코인별 한도

#### 리스크 관리
- **리스크 레벨**: 1-5 단계
- **Kelly Criterion**: 자동 사이징
- **Kill Switch**: 긴급 정지

### 백테스팅

#### 테스트 설정
1. 기간 선택 (시작일-종료일)
2. 초기 자본 입력
3. 전략 선택
4. '백테스트 시작' 클릭

#### 결과 분석
- **수익률 곡선**: 시간별 자산 변화
- **거래 내역**: 모든 매매 기록
- **성과 지표**: 샤프비율, 최대낙폭
- **최적화 제안**: 개선 가능 항목

### 리스크 관리 패널

#### VaR 모니터링
- **95% VaR**: 일반적 최대 손실
- **99% VaR**: 극단적 최대 손실
- **실시간 업데이트**: 5분마다 재계산

#### Kill Switch 제어
- **활성화/비활성화**: 큰 빨간 버튼
- **트리거 설정**: 활성화 조건
- **상태 표시**: 현재 상태 확인

### 알림 및 로그

#### 알림 설정
- **거래 알림**: 매수/매도 실행
- **가격 알림**: 목표가 도달
- **시스템 알림**: 오류, 경고

#### 거래 로그
- **실시간 로그**: 최근 활동
- **필터링**: 유형별 필터
- **내보내기**: CSV 다운로드`,
    category: 'guide'
  },

  'user-manual.troubleshooting': {
    title: '문제 해결',
    content: `## 문제 해결 가이드

### 자주 발생하는 문제

#### 1. API 오류

**증상**
- "API 키가 유효하지 않습니다"
- "권한이 없습니다"
- "요청 한도 초과"

**원인**
- API 키 만료
- 권한 부족
- Rate limit 초과

**해결 방법**
1. Upbit에서 API 키 재확인
2. 필요 권한 체크 (조회, 주문)
3. API 사용량 확인
4. 새 API 키 발급

#### 2. 거래 실패

**증상**
- "주문 실패"
- "잔액 부족"
- "최소 주문 금액 미달"

**원인**
- KRW 잔액 부족
- 5,000원 미만 주문
- 호가 단위 오류

**해결 방법**
1. 계좌 잔액 확인
2. 투자 비율 하향 조정
3. 최소 주문 금액 확인
4. 호가 단위 자동 조정 활성화

#### 3. 분석 지연

**증상**
- 분석 결과 업데이트 지연
- UI 응답 느림
- 차트 로딩 지연

**원인**
- 과도한 코인 수
- 짧은 타임프레임
- 시스템 리소스 부족

**해결 방법**
1. 활성 코인 수 줄이기 (권장: 10개 이하)
2. 타임프레임 늘리기 (15분 → 60분)
3. 다른 프로그램 종료
4. 캐시 정리

#### 4. 연결 오류

**증상**
- "서버 연결 실패"
- "WebSocket 연결 끊김"
- "타임아웃 오류"

**원인**
- 인터넷 연결 불안정
- 방화벽/백신 차단
- Upbit 서버 점검

**해결 방법**
1. 인터넷 연결 확인
2. 방화벽 예외 추가
3. Upbit 공지사항 확인
4. 프로그램 재시작

### 성능 최적화

#### CPU 사용률 높음
1. 분석 주기 늘리기
2. 코인 수 줄이기
3. 차트 애니메이션 끄기
4. 백그라운드 분석 비활성화

#### 메모리 사용량 증가
1. 거래 기록 정리 (설정 > 데이터 관리)
2. 캐시 삭제
3. 프로그램 재시작
4. 오래된 로그 파일 삭제

#### 디스크 공간 부족
1. 백업 파일 정리
2. 로그 보관 기간 단축
3. 임시 파일 삭제
4. 다른 드라이브로 데이터 이동

### 데이터 백업 및 복구

#### 백업 방법
1. 설정 > 데이터 관리
2. '백업 생성' 클릭
3. 저장 위치 선택
4. 백업 파일(.zip) 생성

#### 백업 내용
- 거래 설정
- API 키 (암호화)
- 거래 기록
- 학습 데이터
- 포트폴리오 설정

#### 복구 방법
1. 설정 > 데이터 관리
2. '백업 복원' 클릭
3. 백업 파일 선택
4. 복원 완료 후 재시작

### 보안 관련

#### API 키 보안
- 절대 타인과 공유 금지
- 정기적 키 교체 (3개월)
- IP 화이트리스트 설정
- 최소 권한만 부여

#### 2FA 문제
- 시간 동기화 확인
- 백업 코드 사용
- 2FA 재설정 (설정에서)

### 지원 및 문의

#### 로그 수집
1. 도움말 > 로그 수집
2. 문제 발생 시간 기록
3. 증상 상세 설명
4. 로그 파일 첨부

#### 커뮤니티 지원
- GitHub Issues
- Discord 채널
- 사용자 포럼

#### 개발자 연락
- 버그 리포트: GitHub
- 보안 문제: 이메일
- 기능 제안: Discussions`,
    category: 'guide'
  }
};

// 사용자 매뉴얼 섹션 구조
export const userManualSection = {
  id: 'user-manual',
  title: '사용자 매뉴얼',
  items: [
    'user-manual.introduction',
    'user-manual.technical-indicators',
    'user-manual.simplified-mode',
    'user-manual.kelly-criterion',
    'user-manual.dca-strategy',
    'user-manual.grid-trading',
    'user-manual.pattern-recognition',
    'user-manual.risk-management',
    'user-manual.ai-analysis',
    'user-manual.learning-system',
    'user-manual.ui-guide',
    'user-manual.troubleshooting'
  ]
};