# Upbit AI Trading Desktop Application 사용자 매뉴얼

## 목차
1. [소개](#1-소개)
2. [주요 기능](#2-주요-기능)
3. [초기 설정](#3-초기-설정)
4. [거래 전략](#4-거래-전략)
5. [계산 공식 상세 설명](#5-계산-공식-상세-설명)
6. [UI 구성 요소](#6-ui-구성-요소)
7. [고급 기능](#7-고급-기능)
8. [리스크 관리](#8-리스크-관리)
9. [문제 해결](#9-문제-해결)

---

## 1. 소개

Upbit AI Trading Desktop Application은 암호화폐 자동매매를 위한 종합적인 데스크탑 솔루션입니다. 기술적 분석, AI 기반 예측, 리스크 관리, 포트폴리오 최적화 등 다양한 기능을 제공합니다.

### 1.1 주요 특징
- **20+ 기술적 지표**: RSI, MACD, 볼린저밴드, 이동평균선 등
- **AI 기반 분석**: Claude API를 통한 시장 분석 및 예측
- **패턴 인식**: 30+ 캔들 패턴 및 차트 패턴 자동 인식
- **리스크 관리**: VaR, CVaR, Kelly Criterion 등 고급 리스크 관리
- **자동 매매 전략**: DCA, Grid Trading, Mean Reversion 등
- **실시간 모니터링**: WebSocket을 통한 실시간 시장 데이터

---

## 2. 주요 기능

### 2.1 기술적 분석 지표

#### RSI (Relative Strength Index)
- **용도**: 과매수/과매도 상태 판단
- **기본값**: 14일 기준
- **신호**:
  - RSI > 70: 과매수 상태 (매도 신호)
  - RSI < 30: 과매도 상태 (매수 신호)

#### MACD (Moving Average Convergence Divergence)
- **구성**: 12일 EMA - 26일 EMA
- **신호선**: MACD의 9일 EMA
- **신호**:
  - MACD가 신호선 상향 돌파: 매수 신호
  - MACD가 신호선 하향 돌파: 매도 신호

#### 볼린저 밴드 (Bollinger Bands)
- **구성**: 20일 이동평균선 ± (2 × 표준편차)
- **신호**:
  - 가격이 하단 밴드 터치: 매수 고려
  - 가격이 상단 밴드 터치: 매도 고려

### 2.2 간소화 거래 모드

이전 프로젝트의 성공적인 방식을 계승한 단순화된 거래 전략:

#### 핵심 지표 (6개)
1. **이동평균선 (MA)**: 골든크로스/데드크로스
2. **RSI**: 과매수/과매도
3. **MACD**: 크로스오버
4. **볼린저 밴드**: 밴드 돌파
5. **거래량**: 평균 대비 비율
6. **스토캐스틱**: 과매수/과매도

#### 신호 강도 설정
```
- MA 크로스오버: 0.7
- 볼린저 밴드 극단: 0.8
- RSI 극단: 0.95
- MACD 크로스오버: 0.9
- 스토캐스틱 극단: 0.7
```

---

## 3. 초기 설정

### 3.1 API 키 설정
1. Upbit 거래소에서 API 키 발급
2. 설정 > API 키 메뉴에서 입력
3. Access Key와 Secret Key 모두 입력 필요

### 3.2 거래 설정

#### 타임프레임 선택
- **권장**: 60분봉 (안정적인 신호)
- **단기**: 1분, 5분, 15분봉 (빠른 거래)
- **장기**: 4시간, 일봉, 주봉 (스윙 거래)

#### 투자 비율 설정
- **보수적**: 10-20% (초보자 권장)
- **일반적**: 30-50%
- **공격적**: 60-80% (경험자만)

### 3.3 포트폴리오 설정
1. 거래할 코인 선택
2. 코인별 최대 투자 금액 설정
3. 손절/익절 비율 설정

---

## 4. 거래 전략

### 4.1 Kelly Criterion (켈리 기준)

#### 계산 공식
```
f* = (p × b - q) / b

여기서:
- f* = 최적 베팅 비율
- p = 승률
- q = 패배율 (1 - p)
- b = 승리 시 수익 배율
```

#### 적용 방식
1. **Full Kelly**: 계산된 값 그대로 사용 (위험)
2. **Half Kelly**: 계산값의 50% 사용 (권장)
3. **Quarter Kelly**: 계산값의 25% 사용 (보수적)

#### 동적 조정
- **높은 변동성**: Kelly 비율 50% 감소
- **하락장**: Kelly 비율 40% 감소
- **최근 손실 15% 이상**: Kelly 비율 50% 감소

### 4.2 DCA (Dollar Cost Averaging)

#### 설정 항목
- **정기 투자 금액**: 매번 투자할 고정 금액
- **투자 간격**: 투자 주기 (분 단위)
- **최대 총 투자액**: 전체 투자 한도

#### Smart DCA
변동성에 따라 투자 금액을 자동 조절:
- 고변동성: 투자 금액 증가
- 저변동성: 투자 금액 감소

### 4.3 Grid Trading

#### 그리드 설정
- **중심 가격**: 현재가 또는 지정 가격
- **그리드 간격**: 각 그리드 간 가격 차이 (%)
- **그리드 레벨**: 위아래 그리드 개수

#### 작동 원리
1. 설정된 간격마다 매수/매도 주문 배치
2. 가격 하락 시 매수, 상승 시 매도
3. 횡보장에서 효과적

---

## 5. 계산 공식 상세 설명

### 5.1 VaR (Value at Risk)

#### 모수적 VaR (정규분포 가정)
```
VaR = 포트폴리오 가치 × (평균 수익률 - Z-score × 표준편차)

Z-score:
- 95% 신뢰수준: 1.645
- 99% 신뢰수준: 2.326
```

#### 시간 스케일링
```
주간 VaR = 일일 VaR × √7
월간 VaR = 일일 VaR × √30
```

### 5.2 이치모쿠 클라우드 (Ichimoku Cloud)

#### 구성 요소
1. **전환선 (Tenkan-sen)**: (9일 최고가 + 9일 최저가) / 2
2. **기준선 (Kijun-sen)**: (26일 최고가 + 26일 최저가) / 2
3. **선행스팬A**: (전환선 + 기준선) / 2를 26일 앞에 표시
4. **선행스팬B**: (52일 최고가 + 52일 최저가) / 2를 26일 앞에 표시
5. **후행스팬**: 현재 종가를 26일 뒤에 표시

#### 신호 해석
- 가격이 구름 위: 상승 추세
- 가격이 구름 아래: 하락 추세
- 구름 두께: 변동성 지표

### 5.3 피보나치 되돌림 (Fibonacci Retracement)

#### 주요 레벨
- 0% (최고/최저점)
- 23.6%
- 38.2%
- 50%
- 61.8% (황금 비율)
- 100%

#### 확장 레벨
- 127.2%
- 161.8%
- 261.8%

### 5.4 패턴 인식

#### 캔들 패턴 (15종)
1. **Doji (십자선)**: 우유부단, 추세 전환 가능
2. **Hammer (망치형)**: 하락 후 반전 신호
3. **Shooting Star (유성형)**: 상승 후 반전 신호
4. **Engulfing (장악형)**: 강한 반전 신호
5. **Morning/Evening Star**: 3일 반전 패턴

#### 차트 패턴 (15종)
1. **Head & Shoulders**: 상승 추세 반전
2. **Double Top/Bottom**: 추세 반전
3. **Triangle**: 추세 지속 또는 반전
4. **Flag/Pennant**: 추세 지속

---

## 6. UI 구성 요소

### 6.1 대시보드
- **포트폴리오 현황**: 실시간 손익, 보유 코인
- **거래 통계**: 승률, 총 거래 횟수, 수익률
- **실시간 분석**: 활성 코인의 기술적 분석
- **쿨다운 상태**: 거래 대기 시간 표시

### 6.2 분석 설정
- **가중치 설정**: 각 지표별 중요도 조정
- **임계값 설정**: 매수/매도 기준점
- **학습 모드**: AI가 자동으로 가중치 최적화

### 6.3 리스크 관리 패널
- **VaR 계산**: 95%, 99% 신뢰수준
- **포트폴리오 상관관계**: 코인 간 상관관계 분석
- **Kill Switch**: 긴급 정지 기능

### 6.4 백테스팅
- **기간 설정**: 테스트할 과거 기간
- **초기 자본**: 시뮬레이션 시작 금액
- **결과 분석**: 수익률, 최대 낙폭, 샤프 비율

---

## 7. 고급 기능

### 7.1 멀티 타임프레임 분석
- 여러 시간대 동시 분석
- 상위 타임프레임 트렌드 확인
- 시간대별 가중치 적용

### 7.2 뉴스 감성 분석
- RSS 피드 수집
- 다국어 지원 (한국어, 영어)
- 감성 점수 계산 (-1 ~ +1)

### 7.3 학습 시스템
- 거래 결과 기반 자동 조정
- 코인별 최적 파라미터 학습
- 카테고리별 그룹 학습

### 7.4 2단계 인증 (2FA)
- TOTP 기반 보안
- QR 코드 설정
- 6자리 인증 코드

---

## 8. 리스크 관리

### 8.1 손실 제한
- **일일 손실 한도**: 전체 자본의 %
- **연속 손실 정지**: N회 연속 손실 시 중단
- **포지션 크기 제한**: 코인별 최대 투자액

### 8.2 쿨다운 시스템
- **거래 후 대기**: 중복 거래 방지
- **동적 쿨다운**: 손실 시 대기 시간 증가
- **학습 기반 조정**: AI가 최적 쿨다운 계산

### 8.3 시장 조건 대응
- **변동성 모니터링**: ATR 기반 변동성 측정
- **추세 강도**: ADX로 추세 강도 확인
- **상관관계 분석**: 포트폴리오 분산도

---

## 9. 문제 해결

### 9.1 자주 발생하는 문제

#### API 오류
- **원인**: API 키 만료, 권한 부족
- **해결**: API 키 재발급, 권한 확인

#### 거래 실패
- **원인**: 잔액 부족, 최소 주문 금액 미달
- **해결**: 투자 비율 조정, 최소 5,000원 이상 설정

#### 분석 지연
- **원인**: 과도한 코인 수, 짧은 타임프레임
- **해결**: 코인 수 줄이기, 타임프레임 늘리기

### 9.2 성능 최적화
1. 불필요한 코인 비활성화
2. 분석 주기 조정
3. 캐시 정리 (설정 > 고급)

### 9.3 백업 및 복구
- **설정 백업**: 설정 > 내보내기
- **거래 기록**: 자동 저장 (userData/data/)
- **복구**: 설정 > 가져오기

---

## 부록: 용어 설명

- **ATR**: Average True Range, 변동성 지표
- **CVaR**: Conditional Value at Risk, 꼬리 위험
- **EMA**: Exponential Moving Average, 지수이동평균
- **SMA**: Simple Moving Average, 단순이동평균
- **Sharpe Ratio**: 위험 대비 수익률
- **Drawdown**: 최고점 대비 하락률
- **Slippage**: 주문가와 체결가의 차이

---

*이 매뉴얼은 지속적으로 업데이트됩니다. 최신 버전은 GitHub 저장소에서 확인하세요.*